const matrix = [	
				"100000000000000000000000000000000000000001",
				"100000000000000000000000000000000000000001",
				"100000000000000000000000000000000000000001",
				"100000000000000000000000000000000000000001",
				"100000000000000000000000000000000000000001",
				"100000000000000000000000000000000000000001",
				"100000000000000000000000000000000000000001",
				"100000000000000000000000000000000000000001",
				"100000000000000000000000000000000000000001",
				"100000000000000000000000000000000000000001",
				"100000000000000000000000000000000000000001",
				"100000000000000000000000000000000000000001",
				"100001111111111111160000000066000000000101",
				"100001666666666666660000000066000000000601",
				"100001000000000000060000000000000000000101",
				"111111000000000000060000000000000000000101",
				"100006000000000000060000000000000000000101",
				"100000001000000000060000000000000000000101",
				"100000001000000000060000000000000000000101",
				"100000001000000000060000000000000000000101",
				"100000001000000000060000000000000000000101",
				"111110001000000000060000000000000000000101",
				"100000001000000000044444444444444111117101",
				"100000001000000000000000000000000000000001",
				"100000001000000000000000000000000000000001",
				"100000001888888881111111111333111111110111",
				"100000000000000000000000000000000000010101",
				"100000000000000000000000000066666000010101",
				"100000000000000000055555000066666000012101",
				"100000000000000000055555000066666000000001",
				"100000000000000000055555000066666000000001",
				"100000000000000000055555000066666000000001",
				"100000000000000000055555000000000000000001",
				"100000000000000000000000000000000000000001",
				"100000000000000000000000000000000000000001",
				"100000000000000000000000000000000000000001",
				"111111111111111222211111111111111111111111",
];

var dict = {
	0:"empty",
	1:"MapItem",
	2:"Bounce",
	3:"StickyWall",
	4:"SmoothWall",
	5:"SuckWall",
	6:"GravityWall",
//	7:"MediumWall",
	7:"MapItem",
	8:"NonTouchWall"
}

var mid = 0;
function getMid(){
	return ++mid;
}

function convert(matrix, dict, x, y, width, height){
	var items = [];
	for(let j=0; j<matrix.length;j++){
		for(let i=0; i<matrix[j].length;i++){
			// items.push(MapItemFactory.get(dict[matrix[j].charAt(i)],i*width + x, j*height+y,width,height,"#000000",));
			if(matrix[j].charAt(i)!=0)
			items.push({
				mid:getMid(),
				name:dict[matrix[j].charAt(i)],
				x:i*width + x,
				y:j*height+y,
				width:width,
				height:height,
				color:"#000000"});
		}
	}
	
	return items;
}

module.exports.convertMapItems = function(x,y,width,height){
	return convert(matrix, dict, x,y,width,height);
}